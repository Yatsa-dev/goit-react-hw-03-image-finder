(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(t,e,a){t.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1IW8K",image:"ImageGalleryItem_image__1by09"}},16:function(t,e,a){t.exports={Overlay:"Modal_Overlay__1RlNI",Modal:"Modal_Modal__2EAwo"}},28:function(t,e,a){t.exports={container:"Container_container__2UXJL"}},29:function(t,e,a){t.exports={Searchbar:"Searchbar_Searchbar__2qTbX"}},30:function(t,e,a){t.exports={ImageGallery:"ImageGallery_ImageGallery__1mB3d"}},31:function(t,e,a){t.exports={Button:"Button_Button__9Bjm-"}},33:function(t,e,a){t.exports={spinner:"Spinner_spinner__9HNDO"}},39:function(t,e,a){t.exports={App:"App_App__2hyGW"}},81:function(t,e,a){},82:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=a(17),s=a(3),u=a(4),l=a(6),d=a(5),m=a(12),p=(a(38),a(39),a(14)),h=a.n(p),b=a(26),g=a(27),j=a.n(g),f=function(){var t=Object(b.a)(h.a.mark((function t(e,a){var n,r,o,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams({q:e,page:a,per_page:"12",image_type:"photo",orientation:"horizontal",safesearch:"true"}),r="".concat("https://pixabay.com/api/","?key=").concat("23103282-e7d496618b624ef4484ab3d5c","&").concat(n),t.next=4,j.a.get(r);case 4:return o=t.sent,c=o.data,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),y=f,O=a(28),v=a.n(O),_=a(1);function S(t){var e=t.children;return Object(_.jsx)("div",{className:v.a.container,children:e})}var x=a(2),w=a.n(x),I=a(29),k=a.n(I),M=a(9),L=a.n(M),C=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={query:""},t.handleQueryChange=function(e){t.setState({query:e.currentTarget.value.toLowerCase()})},t.handleSubmit=function(e){var a=t.state.query;e.preventDefault(),""!==a.trim()?(t.setState({query:""}),t.props.onSubmit(a)):m.b.error("Sorry,input field is empty")},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state.query,e=this.handleQueryChange,a=this.handleSubmit;return Object(_.jsxs)("form",{onSubmit:a,className:L.a.SearchForm,children:[Object(_.jsx)("button",{type:"submit",className:L.a.button,children:Object(_.jsx)("span",{className:L.a.buttonLabel,children:"Search"})}),Object(_.jsx)("input",{className:L.a.input,value:t,onChange:e,type:"text",placeholder:"Search images and photos"})]})}}]),a}(n.Component);function N(t){var e=t.onSubmit;return Object(_.jsx)("header",{className:k.a.Searchbar,children:Object(_.jsx)(C,{onSubmit:e})})}C.propTypes={onSubmit:w.a.func};var q=a(15),G=a.n(q),U=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.webformatURL,a=t.tags,n=t.toggleModal,r=t.bigImage;return Object(_.jsx)("li",{className:G.a.ImageGalleryItem,children:Object(_.jsx)("img",{src:e,alt:a,className:G.a.image,onClick:function(){n(),r()}})})}}]),a}(n.Component),D=a(30),F=a.n(D),B=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.data,a=t.toggleModal,n=t.bigImage;return Object(_.jsx)("ul",{className:F.a.ImageGallery,children:e.map((function(t){return Object(_.jsx)(U,{id:t.id,webformatURL:t.webformatURL,largeImageURL:t.largeImageURL,tags:t.tags,toggleModal:function(){return a()},bigImage:function(){return n(t.id,t.largeImageURL,t.tags)}},t.id)}))})}}]),a}(n.Component),R=a(31),A=a.n(R),T=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props.onClick;return Object(_.jsx)("button",{className:A.a.Button,type:"button",onClick:t,children:"Load more"})}}]),a}(n.Component),E=a(16),J=a.n(E),K=document.querySelector("#modal-root"),W=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).handleKeyDown=function(e){"Escape"===e.code&&t.props.closeModal()},t.backdropClick=function(e){e.target===e.currentTarget&&t.props.closeModal()},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var t=this.props.modalImage,e=this.backdropClick;return Object(o.createPortal)(Object(_.jsx)("div",{className:J.a.Overlay,onClick:e,children:Object(_.jsx)("div",{className:J.a.Modal,children:Object(_.jsx)("img",{src:t.img,alt:t.tags},t.id)})}),K)}}]),a}(n.Component),H=a(32),P=a.n(H),Q=(a(80),a(33)),X=a.n(Q),z=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(_.jsx)(P.a,{className:X.a.spinner,type:"MutatingDots",color:"#5da066",height:100,width:100})}}]),a}(n.Component),Y=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={status:"idle",query:"",page:1,data:[],loading:!1,showModal:!1,modalLargeImage:""},t.scrollOnLoadButton=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},t.handleFormSubmit=function(e){t.setState({query:e,page:1})},t.buttonLoadMore=function(){var e=t.state.page;t.setState({page:e+1,status:"pending"})},t.toggleModal=function(){t.setState((function(t){return{showModal:!t.showModal}}))},t.modalImage=function(e,a,n){t.setState({modalLargeImage:{id:e,img:a,tags:n}})},t}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(t,e){var a=this,n=this.state,r=n.query,o=n.page;e.query!==r&&(this.setState({status:"pending"}),y(r,o).then((function(t){return t.hits})).then((function(t){return a.setState({data:t,status:"resolved"})}))),e.page!==o&&1!==o&&(this.setState({status:"pending"}),y(r,o).then((function(t){return t.hits})).then((function(t){a.setState((function(e){return{data:[].concat(Object(i.a)(e.data),Object(i.a)(t)),status:"resolved"}})),1!==o&&a.scrollOnLoadButton()})))}},{key:"render",value:function(){var t=this.handleFormSubmit,e=this.toggleModal,a=this.modalImage,n=this.buttonLoadMore,r=this.state,o=r.data,c=r.status,i=r.showModal,s=r.modalLargeImage;return Object(_.jsxs)(S,{children:[Object(_.jsx)(N,{onSubmit:t}),Object(_.jsx)(B,{data:o,toggleModal:e,bigImage:a}),"pending"===c&&Object(_.jsx)(z,{}),o.length>0&&Object(_.jsx)(T,{onClick:n}),i&&Object(_.jsx)(W,{closeModal:e,modalImage:s}),Object(_.jsx)(m.a,{autoClose:2e3})]})}}]),a}(n.Component);a(81);c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(Y,{})}),document.querySelector("#root"))},9:function(t,e,a){t.exports={SearchForm:"SearchForm_SearchForm__3nJdi",button:"SearchForm_button__CqD5G",buttonLabel:"SearchForm_buttonLabel__2rUe9",input:"SearchForm_input___TY0N"}}},[[82,1,2]]]);
//# sourceMappingURL=main.4939548a.chunk.js.map